define(['ko','underscore'],function(ko,_){'use strict';return{getReady:function(){if(_.isUndefined(this.ready)){this.ready=ko.observable(false);}
return this.ready;},isReady:function(){return this.getReady()();},setReady:function(){if(!this.isReady()){this.ready(true);}},setUnready:function(){if(this.isReady()){this.ready(false);}},awaitReady:async function(){if(!this.isReady()){return new Promise(resolve=>{let subscription=this.ready.subscribe(readyStatus=>{if(readyStatus){subscription.dispose();resolve();}});});}}};});