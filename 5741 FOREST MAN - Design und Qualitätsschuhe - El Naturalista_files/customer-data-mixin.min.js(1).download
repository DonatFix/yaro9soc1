define(['jquery','mage/utils/wrapper','Interactiv4_Magento/js/customer-data-checker'],function($,wrapper,customerDataChecker){'use strict';return function(target){return wrapper.extend(target,{init:function(_super){var self=this;customerDataChecker.customerDataCheck().done(function(response){try{var storage=$.initNamespaceStorage('mage-cache-storage').localStorage;if(response[customerDataChecker.getCustomerDataNeedReloadResponseKey()]){storage.removeAll();customerDataChecker.customerDataCheckConfirmation();self.reload(['customer'],false);}else{var storageCustomerData=storage.get('customer');if(response[customerDataChecker.getIsLoggedInResponseKey()]){if(!storageCustomerData.hasOwnProperty('firstname')||!storageCustomerData.hasOwnProperty('websiteId')||!storageCustomerData.hasOwnProperty('customerId')){self.reload(['customer'],false);}}}}
catch(err){console.log(err);self.reload(['customer'],false);}}).always(function(){_super();});}});};});